"use strict";function goTo(t,e){if(e){var a=window.open(t);return setInterval(function(){a.close()},1500)}return location.href=t}!function(t,e,a){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e||a)}(function(t){var e=function(e,a,n){var s={invalid:[],getCaret:function(){try{var t,a=0,n=e.get(0),l=document.selection,r=n.selectionStart;return l&&-1===navigator.appVersion.indexOf("MSIE 10")?(t=l.createRange(),t.moveStart("character",-s.val().length),a=t.text.length):(r||"0"===r)&&(a=r),a}catch(o){}},setCaret:function(t){try{if(e.is(":focus")){var a,n=e.get(0);n.setSelectionRange?n.setSelectionRange(t,t):(a=n.createTextRange(),a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select())}}catch(s){}},events:function(){e.on("keydown.mask",function(t){e.data("mask-keycode",t.keyCode||t.which),e.data("mask-previus-value",e.val()),e.data("mask-previus-caret-pos",s.getCaret()),s.maskDigitPosMapOld=s.maskDigitPosMap}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",s.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){e.keydown().keyup()},100)}).on("change.mask",function(){e.data("changed",!0)}).on("blur.mask",function(){o===s.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)}).on("blur.mask",function(){o=s.val()}).on("focus.mask",function(e){!0===n.selectOnFocus&&t(e.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!l.test(s.val())&&s.val("")})},getRegexMask:function(){for(var t,e,n,s,l,o,i=[],c=0;c<a.length;c++)t=r.translation[a.charAt(c)],t?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,s=t.recursive,s?(i.push(a.charAt(c)),l={digit:a.charAt(c),pattern:e}):i.push(n||s?e+"?":e)):i.push(a.charAt(c).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=i.join(""),l&&(o=o.replace(new RegExp("("+l.digit+"(.*"+l.digit+")?)"),"($1)?").replace(new RegExp(l.digit,"g"),l.pattern)),new RegExp(o)},destroyEvents:function(){e.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var a,n=e.is("input"),s=n?"val":"text";return 0<arguments.length?(e[s]()!==t&&e[s](t),a=e):a=e[s](),a},calculateCaretPosition:function(){var t=e.data("mask-previus-value")||"",a=s.getMasked(),n=s.getCaret();if(t!==a){var l=e.data("mask-previus-caret-pos")||0,r=a.length,o=t.length,i=0,c=0,u=0,d=0,p=0;for(p=n;r>p&&s.maskDigitPosMap[p];p++)c++;for(p=n-1;p>=0&&s.maskDigitPosMap[p];p--)i++;for(p=n-1;p>=0;p--)s.maskDigitPosMap[p]&&u++;for(p=l-1;p>=0;p--)s.maskDigitPosMapOld[p]&&d++;if(n>o)n=10*r;else if(l>=n&&l!==o){if(!s.maskDigitPosMapOld[n]){var h=n;n-=d-u,n-=i,s.maskDigitPosMap[n]&&(n=h)}}else n>l&&(n+=u-d,n+=c)}return n},behaviour:function(a){a=a||window.event,s.invalid=[];var n=e.data("mask-keycode");if(-1===t.inArray(n,r.byPassKeys)){var l=s.getMasked(),o=s.getCaret();return setTimeout(function(){s.setCaret(s.calculateCaretPosition())},10),s.val(l),s.setCaret(o),s.callbacks(a)}},getMasked:function(t,e){var l,o,i=[],c=void 0===e?s.val():e+"",u=0,d=a.length,p=0,h=c.length,f=1,g="push",m=-1,v=0,$=[];n.reverse?(g="unshift",f=-1,l=0,u=d-1,p=h-1,o=function(){return u>-1&&p>-1}):(l=d-1,o=function(){return d>u&&h>p});for(var k;o();){var b=a.charAt(u),y=c.charAt(p),w=r.translation[b];w?(y.match(w.pattern)?(i[g](y),w.recursive&&(-1==m?m=u:u===l&&(u=m-f),l===m&&(u-=f)),u+=f):y===k?(v--,k=void 0):w.optional?(u+=f,p-=f):w.fallback?(i[g](w.fallback),u+=f,p-=f):s.invalid.push({p:p,v:y,e:w.pattern}),p+=f):(!t&&i[g](b),y===b?($.push(p),p+=f):(k=b,$.push(p+v),v++),u+=f)}var S=a.charAt(l);d!==h+1||r.translation[S]||i.push(S);var T=i.join("");return s.mapMaskdigitPositions(T,$,h),T},mapMaskdigitPositions:function(t,e,a){var l=n.reverse?t.length-a:0;s.maskDigitPosMap={};for(var r=0;r<e.length;r++)s.maskDigitPosMap[e[r]+l]=1},callbacks:function(t){var l=s.val(),r=l!==o,i=[l,t,e,n],c=function(t,e,a){"function"==typeof n[t]&&e&&n[t].apply(this,a)};c("onChange",1==r,i),c("onKeyPress",1==r,i),c("onComplete",l.length===a.length,i),c("onInvalid",0<s.invalid.length,[l,t,e,s.invalid,n])}};e=t(e);var l,r=this,o=s.val();a="function"==typeof a?a(s.val(),void 0,e,n):a,r.mask=a,r.options=n,r.remove=function(){var t=s.getCaret();return s.destroyEvents(),s.val(r.getCleanVal()),s.setCaret(t),e},r.getCleanVal=function(){return s.getMasked(!0)},r.getMaskedVal=function(t){return s.getMasked(!1,t)},r.init=function(o){if(o=o||!1,n=n||{},r.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,r.byPassKeys=t.jMaskGlobals.byPassKeys,r.translation=t.extend({},t.jMaskGlobals.translation,n.translation),r=t.extend(!0,{},r,n),l=s.getRegexMask(),o)s.events(),s.val(s.getMasked());else{n.placeholder&&e.attr("placeholder",n.placeholder),e.data("mask")&&e.attr("autocomplete","off");for(var i,c=0,u=!0;c<a.length;c++)if(i=r.translation[a.charAt(c)],i&&i.recursive){u=!1;break}u&&e.attr("maxlength",a.length),s.destroyEvents(),s.events();var d=s.getCaret();s.val(s.getMasked()),s.setCaret(d)}},r.init(!e.is("input"))};t.maskWatchers={};var a=function(){var a=t(this),s={},l="data-mask-",r=a.attr("data-mask");return a.attr(l+"reverse")&&(s.reverse=!0),a.attr(l+"clearifnotmatch")&&(s.clearIfNotMatch=!0),"true"===a.attr(l+"selectonfocus")&&(s.selectOnFocus=!0),n(a,r,s)?a.data("mask",new e(this,r,s)):void 0},n=function(e,a,n){n=n||{};var s=t(e).data("mask"),l=JSON.stringify,r=t(e).val()||t(e).text();try{return"function"==typeof a&&(a=a(r)),"object"!=typeof s||l(s.options)!==l(n)||s.mask!==a}catch(o){}};t.fn.mask=function(a,s){s=s||{};var l=this.selector,r=t.jMaskGlobals,o=r.watchInterval,i=s.watchInputs||r.watchInputs,c=function(){return n(this,a,s)?t(this).data("mask",new e(this,a,s)):void 0};return t(this).each(c),l&&""!==l&&i&&(clearInterval(t.maskWatchers[l]),t.maskWatchers[l]=setInterval(function(){t(document).find(l).each(c)},o)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(e){e=e||t.jMaskGlobals.maskElements;var n=e instanceof t?e:t(e);n.filter(t.jMaskGlobals.dataMaskAttr).each(a)};var s={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&function(t){var e,a=document.createElement("div");return t="on"+t,e=t in a,e||(a.setAttribute(t,"return;"),e="function"==typeof a[t]),a=null,e}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{},s=t.jMaskGlobals=t.extend(!0,{},s,t.jMaskGlobals),s.dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},s.watchInterval)},window.jQuery,window.Zepto),$(function(){Waves.attach(".waves",["waves-light"]),Waves.init();var t=new WOW({boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,scrollContainer:null});t.init(),$(".count").each(function(){$(this).prop("Counter",0).animate({Counter:$(this).text()},{duration:4e3,easing:"swing",step:function(t){$(this).text(Math.ceil(t))}})}),$("#login").on("submit",function(t){return t?t.preventDefault():!1,$("#login .alert").slideUp(),$("#login button").html("AGUARDE..."),$.ajax({url:"/client/auth",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);console.log(t.responseText),"ok"==e.response?($("#login .alert-success").slideDown().html(e.message),$("#login input").prop("disabled",!0),setInterval(function(){location.reload()},2e3),$("#login button").html("REDIRECIONANDO...")):($("#login .alert-danger").slideDown().html(e.message),$("#login button").html("ENTRE"))}}),!1}),$("#register").on("submit",function(t){return t?t.preventDefault():!1,$("#register .alert").slideUp(),$("#register button").html("AGUARDE..."),$.ajax({url:"/client/register",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);console.log(t.responseText),"ok"==e.response?($("#register .alert-success").slideDown().html(e.message),$("#register input").prop("disabled",!0),setInterval(function(){location.reload()},2e3),$("#register button").html("REDIRECIONANDO...")):($("#register .alert-danger").slideDown().html(e.message),$("#register button").html("ENTRE"))}}),!1}),$("#addplugin").on("submit",function(t){return t?t.preventDefault():!1,$(".alert").slideUp(),$("#addplugin button").html("Aguarde..."),$.ajax({url:"/client/addPlugin",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);"ok"==e.response?($(".alert-success").slideDown().html(e.message),$("input").val(""),$("select").val(""),$("textarea").val(""),setInterval(function(){$(".alert-success").slideUp().html("")},1500),$.get("/client/listPlugins",function(t){$("#plugins-list").html(t),console.log("Plugins atualizados")}),$("#addplugin button").html("Salvar")):($(".alert-danger").slideDown().html(e.message),$("#addplugin button").html("Salvar"))}}),!1}),$("#addcupom").on("submit",function(t){return t?t.preventDefault():!1,$(".alert").slideUp(),$("#addcupom button").html("Aguarde..."),$.ajax({url:"/client/addCupom",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);"ok"==e.response?($(".alert-success").slideDown().html(e.message),$("input").val(""),setInterval(function(){location.reload()},1500),$("#addcupom button").html("Salvar")):($(".alert-danger").slideDown().html(e.message),$("#addcupom button").html("Salvar"))}}),!1}),$("#addchangelog").on("submit",function(t){return t?t.preventDefault():!1,$("#addchangelog .alert").slideUp(),$("#addchangelog button").html("Aguarde..."),$.ajax({url:"/client/addChangelog",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);"ok"==e.response?($("#addchangelog .alert-success").slideDown().html(e.message),$("#addchangelog input").val(""),setInterval(function(){location.reload()},1500),$("#addchangelog button").html("Salvar")):($("#addchangelog .alert-danger").slideDown().html(e.message),$("#addchangelog button").html("Salvar"))}}),!1}),$("#addalert").on("submit",function(t){return t?t.preventDefault():!1,$("#addalert .alert").slideUp(),$("#addalert button").html("Aguarde..."),$.ajax({url:"/client/addAlert",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);"ok"==e.response?($("#addalert .alert-success").slideDown().html(e.message),$("#addalert textarea").val(""),setInterval(function(){location.reload()},1500),$("#addalert button").html("Salvar")):($("#addalert .alert-danger").slideDown().html(e.message),$("#addalert button").html("Salvar"))}}),!1}),$(".updateplugin").on("submit",function(t){return t?t.preventDefault():!1,$.ajax({url:"/client/updateConfig",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);"ok"==e.response?location.reload():alert(e.message)}}),!1}),$("#createTicket").on("submit",function(t){return t?t.preventDefault():!1,$.ajax({url:"/client/addTicket",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);"ok"==e.response?location.reload():alert(e.message)}}),!1}),$(".replyMessage").on("submit",function(t){return t?t.preventDefault():!1,$.ajax({url:"/client/replyTicket",type:"POST",data:$(this).serialize(),complete:function(){location.reload()}}),!1}),$(".btn-delete-cupom").on("click",function(t){return t?t.preventDefault():!1,$.ajax({url:"/client/delCupom",type:"POST",dataType:"JSON",data:{id:$(this).attr("id")},complete:function(){location.reload()}}),!1}),$(".tkc-close").on("click",function(t){return t?t.preventDefault():!1,$.ajax({url:"/client/closeTicket",type:"POST",dataType:"JSON",data:{ticket:$(this).attr("id")},complete:function(){location.reload()}}),!1}),$(".tck-delete").on("click",function(t){return t?t.preventDefault():!1,$.ajax({url:"/client/delTicket",type:"POST",data:{ticket:$(this).attr("id")},complete:function(){location.reload()}}),!1}),$(".alert-delete").on("click",function(t){return t?t.preventDefault():!1,$.ajax({url:"/client/delAlert",type:"POST",data:{id:$(this).attr("id")},complete:function(){location.reload()}}),!1}),$(".chg-delete").on("click",function(t){return t?t.preventDefault():!1,$.ajax({url:"/client/delChangelog",type:"POST",data:{id:$(this).attr("id")},complete:function(){location.reload()}}),!1}),$(".btn-accept-usuario").on("click",function(t){return t?t.preventDefault():!1,$.ajax({url:"/client/removeAccount",type:"POST",dataType:"JSON",data:{usuario:$(this).attr("id")},complete:function(){location.reload()}}),!1}),$(".btn-remove-usuario").on("click",function(t){return t?t.preventDefault():!1,$.ajax({url:"/client/delAccount",type:"POST",dataType:"JSON",data:{usuario:$(this).attr("id")},complete:function(){location.reload()}}),!1}),$("#addpluginuser").on("submit",function(t){return t?t.preventDefault():!1,$("#addpluginuser .btn-success").html("Aguarde..."),$.ajax({url:"/client/addPluginUser",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);"ok"==e.response&&(alert(e.message),$("#addpluginuser input").val(""),$("#addpluginuser .btn-success").html("Adicionar"))}}),!1}),$("#changePass").on("submit",function(t){return t?t.preventDefault():!1,$(this).find("button").html("Aguarde..."),$(".alert").slideUp(),$.ajax({url:"/client/change",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);"ok"==e.response?($(".alert-success").slideDown().html(e.message),$("#changePass  input").prop("disabled",!0),setInterval(function(){$(".alert-success").slideUp().html("")},2500),$("#changePass button").html("Alterar")):($(".alert-danger").slideDown().html(e.message),setInterval(function(){$(".alert-danger").slideUp().html("")},2500),$("#changePass button").html("Alterar"))}}),!1}),$(".editChangelog").on("submit",function(t){return t?t.preventDefault():!1,$(this).find("button").html("Aguarde..."),$(".alert").slideUp(),$.ajax({url:"/client/editChangelog",type:"POST",data:$(this).serialize(),complete:function(){location.reload()}}),!1}),$(".editAlert").on("submit",function(t){return t?t.preventDefault():!1,$(this).find("button").html("Aguarde..."),$(".alert").slideUp(),$.ajax({url:"/client/editAlert",type:"POST",data:$(this).serialize(),complete:function(){location.reload()}}),!1}),$("#plugins-list").length>0&&$.get("/client/listPlugins",function(t){$("#plugins-list").html(t),console.log("Plugins carregados")}),$("#datatable").length>0&&$("#datatable").DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.10.16/i18n/Portuguese-Brasil.json"},paging:!0,searching:!1,lengthChange:!1}),$("#datatable2").length>0&&$("#datatable2").DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.10.16/i18n/Portuguese-Brasil.json"},paging:!0,searching:!1,lengthChange:!1}),$(".list-loja").length>0&&$(".list-loja").scroll(function(){$(this).scrollTop()+$(this).height()==$(this).get(0).scrollHeight&&$.ajax({url:"/loja/list",type:"POST",date:{limit:12,offset:0,category:$(this).attr("id")},success:function(t){$("#conteudo").append(t)}})}),$("#termos-de-uso").on("click",function(){$(".termos").fadeIn("slow"),$("#termos-close").on("click",function(){$(".termos").fadeOut("slow")})}),$("#pay").on("submit",function(t){return t?t.preventDefault():!1,$("#pay button").html("SOLICITANDO..."),$.ajax({url:"/loja/pay",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);"ok"==e.response?($("input").prop("disabled",!0),$("#pay button").html("REDIRECIONANDO..."),window.location.href=e.url):(alert(e.message),$("#pay button").html("PAGAR"))}}),!1}),$("#send").on("submit",function(t){return t?t.preventDefault():!1,$(".alert").slideUp(),$("#send .btn-primary").html("Enviando..."),$.ajax({url:"/contato/send",type:"POST",dataType:"JSON",data:$(this).serialize(),complete:function(t){var e=JSON.parse(t.responseText);"ok"==e.response?($(".alert-success").slideDown().html(e.message),$("input").prop("disabled",!0),$("textarea").prop("disabled",!0),$(".g-recaptcha").hide(),$("#send .btn-primary").prop("class","btn btn-primary disabled"),setInterval(function(){$(".alert-success").slideUp().html("")},1500),$("#send .btn-primary").html("Enviado")):($(".alert-danger").slideDown().html(e.message),$("#send .btn-primary").html("Enviar"))}}),!1}),$(".ip_address").mask("0ZZ.0ZZ.0ZZ.0ZZ",{translation:{Z:{pattern:/[0-9]/,optional:!0}}})}),function(){function t(){d&&(i.css({height:u,overflow:"hidden"}),$("html, body").css("overflow","hidden"))}function e(){d&&(i.css({height:"auto",overflow:"auto"}),$("html, body").css("overflow","auto"))}function a(){l.addClass("nb-show").removeClass("nb-hide"),i.addClass(c),t(),r.find("span").removeClass("fa-bars").addClass("fa-arrow-left")}function n(){l.removeClass("nb-show").addClass("nb-hide"),i.removeClass(c),e(),r.find("span").removeClass("fa-arrow-left").addClass("fa-bars")}function s(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}var l=$(".dash-navbar-left"),r=$(".nb-btn-toggle"),o=$(".nb-btn-collapse"),i=$(".content-wrapper"),c=i.data("effect"),u=$(window).height()-61,d=$(window).width()<767;l.addClass("nb-hide"),r.click(function(){l.hasClass("nb-hide")?a():n()}),o.click(function(t){t.preventDefault(),l.hasClass("nb-collapsed")?(l.removeClass("nb-collapsed"),i.removeClass("nb-collapsed"),$(this).find(".nb-link-icon").removeClass("fa-arrow-right").addClass("fa-arrow-left")):(l.addClass("nb-collapsed"),i.addClass("nb-collapsed"),$(this).find(".nb-link-icon").removeClass("fa-arrow-left").addClass("fa-arrow-right"))}),$(".navbar-toggle").click(function(){$(this).hasClass("collapsed")&&n()}),r.click(function(){$(".navbar-toggle").addClass("collapsed"),$(".navbar-collapse").removeClass("in")}),1==s()&&$(window).swipe({swipeRight:function(){a(),$(".navbar-collapse").removeClass("in")},swipeLeft:function(){n()},threshold:75}),$(".content-wrap").click(function(){n()})}();